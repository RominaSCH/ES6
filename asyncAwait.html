<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async Await</title>
</head>
<body>
    <script>
        async function plusF(){ //async는 함수 앞에만 붙일 수 있다
            //return 1 + 1; //async의 단점은 실패를 알 수 없다. 성공만 가능함. 
            var 프로미스  = new Promise(function(성공, 실패){
                var 힘든연산 = 1 + 1;
                 성공(100);
                //실패(100); //실패면 await줄에서 에러로 인해 멈춘다
            });
            
            // 프로미스.then(function(){
            //     console.log("성공했어요")
            // }); //얘랑 아래 await줄이랑 같다

            //실패할 경우 JS에선 try {이걸 해보고} catch {안되면 이걸 실행해주세요} 를 쓴다
            try{
                var 결과 = await 프로미스;
                console.log(결과)
            } catch{
                console.log("프로미스 연산에 실패하였습니다.");
            }

            //var 결과 = await 프로미스; //async function 안에서 쓰는 await(기다려!),
                //여기에서는 프로미스가 해결될 때 까지 기다린다
            //console.log(결과) //then 대신 사용 가능하다

        } //async 키워드를 쓰면 Promise 오브젝트가 저절로 생성된다.
        /*  plusF().then(function(결과){ //함수 앞에 async만 붙이면 new Promise() 안해도 .then() 사용 가능하다
            console.log(결과);
        }) */
        plusF();

    </script>
    
</body>
</html>